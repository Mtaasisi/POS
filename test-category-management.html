<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Category Management Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .category-card {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            background: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .category-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            margin-bottom: 10px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
        }
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
        }
        .btn-primary {
            background: #3b82f6;
            color: white;
        }
        .btn-secondary {
            background: #6b7280;
            color: white;
        }
        .btn-danger {
            background: #ef4444;
            color: white;
        }
        .btn-success {
            background: #10b981;
            color: white;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }
        .modal-content {
            background: white;
            margin: 10% auto;
            padding: 20px;
            border-radius: 8px;
            max-width: 500px;
            position: relative;
        }
        .close {
            position: absolute;
            right: 15px;
            top: 15px;
            font-size: 24px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Category Management Test</h1>
            <p>Test the category management functionality</p>
        </div>

        <div style="margin-bottom: 20px;">
            <button class="btn btn-primary" onclick="showAddForm()">Add New Category</button>
        </div>

        <div class="category-grid" id="categoryGrid">
            <!-- Categories will be loaded here -->
        </div>
    </div>

    <!-- Add/Edit Modal -->
    <div id="categoryModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2 id="modalTitle">Add New Category</h2>
            <form id="categoryForm">
                <div class="form-group">
                    <label for="categoryName">Category Name *</label>
                    <input type="text" id="categoryName" required>
                </div>
                <div class="form-group">
                    <label for="categoryColor">Color</label>
                    <select id="categoryColor">
                        <option value="#3B82F6">Blue</option>
                        <option value="#10B981">Green</option>
                        <option value="#8B5CF6">Purple</option>
                        <option value="#F59E0B">Orange</option>
                        <option value="#EF4444">Red</option>
                        <option value="#EC4899">Pink</option>
                        <option value="#6366F1">Indigo</option>
                        <option value="#EAB308">Yellow</option>
                        <option value="#14B8A6">Teal</option>
                        <option value="#06B6D4">Cyan</option>
                        <option value="#F97316">Amber</option>
                        <option value="#6B7280">Gray</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="categoryDescription">Description</label>
                    <textarea id="categoryDescription" rows="3"></textarea>
                </div>
                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button type="submit" class="btn btn-primary">Save Category</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal()">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Sample categories data
        let categories = [
            { id: '1', name: 'Phone', description: 'Mobile phones and smartphones', color: '#3B82F6', is_active: true },
            { id: '2', name: 'Laptop', description: 'Portable computers and notebooks', color: '#10B981', is_active: true },
            { id: '3', name: 'Tablet', description: 'Tablet computers and iPads', color: '#8B5CF6', is_active: true },
            { id: '4', name: 'Desktop', description: 'Desktop computers and workstations', color: '#F59E0B', is_active: true },
            { id: '5', name: 'Printer', description: 'Printers and scanners', color: '#EF4444', is_active: true },
            { id: '6', name: 'Smartwatch', description: 'Smartwatches and fitness trackers', color: '#EC4899', is_active: true },
            { id: '7', name: 'Headphones', description: 'Headphones and earphones', color: '#6366F1', is_active: true },
            { id: '8', name: 'Speaker', description: 'Speakers and audio devices', color: '#EAB308', is_active: true },
            { id: '9', name: 'Camera', description: 'Cameras and photography equipment', color: '#14B8A6', is_active: true },
            { id: '10', name: 'Gaming', description: 'Gaming consoles and accessories', color: '#06B6D4', is_active: true },
            { id: '11', name: 'Accessories', description: 'Device accessories and peripherals', color: '#F97316', is_active: true },
            { id: '12', name: 'Monitor', description: 'Computer monitors and displays', color: '#059669', is_active: true },
            { id: '13', name: 'Keyboard', description: 'Computer keyboards and input devices', color: '#7C3AED', is_active: true },
            { id: '14', name: 'Mouse', description: 'Computer mice and pointing devices', color: '#475569', is_active: true },
            { id: '15', name: 'Webcam', description: 'Web cameras and video devices', color: '#E11D48', is_active: true },
            { id: '16', name: 'Microphone', description: 'Microphones and audio input devices', color: '#0284C7', is_active: true },
            { id: '17', name: 'Router', description: 'Network routers and networking equipment', color: '#84CC16', is_active: true },
            { id: '18', name: 'Modem', description: 'Internet modems and connectivity devices', color: '#C026D3', is_active: true },
            { id: '19', name: 'Scanner', description: 'Document scanners and scanning devices', color: '#EA580C', is_active: true },
            { id: '20', name: 'Projector', description: 'Projectors and display devices', color: '#4F46E5', is_active: true },
            { id: '21', name: 'Server', description: 'Server computers and enterprise hardware', color: '#6B7280', is_active: true },
            { id: '22', name: 'Network', description: 'Network equipment and infrastructure', color: '#3B82F6', is_active: true },
            { id: '23', name: 'Storage', description: 'Storage devices and data solutions', color: '#10B981', is_active: true },
            { id: '24', name: 'Other', description: 'Other device categories', color: '#6B7280', is_active: true }
        ];

        let editingCategory = null;

        function renderCategories() {
            const grid = document.getElementById('categoryGrid');
            grid.innerHTML = '';

            categories.forEach(category => {
                const card = document.createElement('div');
                card.className = 'category-card';
                card.style.opacity = category.is_active ? '1' : '0.6';
                card.style.border = category.is_active ? '1px solid #e5e7eb' : '2px solid #ef4444';

                const badge = document.createElement('span');
                badge.className = 'category-badge';
                badge.style.backgroundColor = category.color + '20';
                badge.style.color = category.color;
                badge.textContent = category.name;

                const title = document.createElement('h3');
                title.textContent = category.name;
                title.style.margin = '10px 0';

                const description = document.createElement('p');
                description.textContent = category.description || 'No description';
                description.style.color = '#6b7280';
                description.style.fontSize = '14px';
                description.style.margin = '10px 0';

                const actions = document.createElement('div');
                actions.style.display = 'flex';
                actions.style.gap = '10px';
                actions.style.marginTop = '15px';

                if (category.is_active) {
                    const editBtn = document.createElement('button');
                    editBtn.className = 'btn btn-primary';
                    editBtn.textContent = 'Edit';
                    editBtn.onclick = () => editCategory(category);
                    editBtn.style.fontSize = '12px';
                    editBtn.style.padding = '5px 10px';

                    const deleteBtn = document.createElement('button');
                    deleteBtn.className = 'btn btn-danger';
                    deleteBtn.textContent = 'Delete';
                    deleteBtn.onclick = () => deleteCategory(category.id);
                    deleteBtn.style.fontSize = '12px';
                    deleteBtn.style.padding = '5px 10px';

                    actions.appendChild(editBtn);
                    actions.appendChild(deleteBtn);
                } else {
                    const restoreBtn = document.createElement('button');
                    restoreBtn.className = 'btn btn-success';
                    restoreBtn.textContent = 'Restore';
                    restoreBtn.onclick = () => restoreCategory(category.id);
                    restoreBtn.style.fontSize = '12px';
                    restoreBtn.style.padding = '5px 10px';

                    actions.appendChild(restoreBtn);
                }

                card.appendChild(badge);
                card.appendChild(title);
                card.appendChild(description);
                card.appendChild(actions);
                grid.appendChild(card);
            });
        }

        function showAddForm() {
            editingCategory = null;
            document.getElementById('modalTitle').textContent = 'Add New Category';
            document.getElementById('categoryForm').reset();
            document.getElementById('categoryModal').style.display = 'block';
        }

        function editCategory(category) {
            editingCategory = category;
            document.getElementById('modalTitle').textContent = 'Edit Category: ' + category.name;
            document.getElementById('categoryName').value = category.name;
            document.getElementById('categoryColor').value = category.color;
            document.getElementById('categoryDescription').value = category.description || '';
            document.getElementById('categoryModal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('categoryModal').style.display = 'none';
            editingCategory = null;
        }

        function deleteCategory(id) {
            if (confirm('Are you sure you want to delete this category?')) {
                categories = categories.map(cat => 
                    cat.id === id ? { ...cat, is_active: false } : cat
                );
                renderCategories();
                alert('Category deleted successfully!');
            }
        }

        function restoreCategory(id) {
            categories = categories.map(cat => 
                cat.id === id ? { ...cat, is_active: true } : cat
            );
            renderCategories();
            alert('Category restored successfully!');
        }

        // Handle form submission
        document.getElementById('categoryForm').onsubmit = function(e) {
            e.preventDefault();
            
            const name = document.getElementById('categoryName').value;
            const color = document.getElementById('categoryColor').value;
            const description = document.getElementById('categoryDescription').value;

            if (editingCategory) {
                // Update existing category
                categories = categories.map(cat => 
                    cat.id === editingCategory.id 
                        ? { ...cat, name, color, description }
                        : cat
                );
                alert('Category updated successfully!');
            } else {
                // Add new category
                const newCategory = {
                    id: Date.now().toString(),
                    name,
                    color,
                    description,
                    is_active: true
                };
                categories.push(newCategory);
                alert('Category created successfully!');
            }

            closeModal();
            renderCategories();
        };

        // Initialize
        renderCategories();
    </script>
</body>
</html> 